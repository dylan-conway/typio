!function(t){var e={};function s(i){if(e[i])return e[i].exports;var h=e[i]={i:i,l:!1,exports:{}};return t[i].call(h.exports,h,h.exports,s),h.l=!0,h.exports}s.m=t,s.c=e,s.d=function(t,e,i){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},s.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(s.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var h in t)s.d(i,h,function(e){return t[e]}.bind(null,h));return i},s.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="",s(s.s=0)}([function(t,e,s){"use strict";s.r(e);class i{constructor(){this.buttons=[],this.letters=[]}addButton(t){this.buttons.push(t)}addLetter(t){this.letters.push(t)}draw(t){for(let e of this.buttons)e.draw(t);for(let e of this.letters)e.draw(t)}click(t,e){for(let s of this.buttons)t>s.x&&t<s.x+s.width&&e>s.y&&e<s.y+s.height&&s.clickable&&s.clicked()}checkCorrectness(){for(let t of this.letters)if(2==t.typed)return!1;return!0}}let h=32,r="This is a test of typio typing. Wow you are so fast!",n=new Image;n.src="../res/images/terminalFontOne.png";let o=new Image;o.src="../res/images/terminalFontTwo.png";let l=new Image;l.src="../res/images/terminalFontThree.png";let c=new Image;c.src="../res/images/terminalFontGo.png";let a=new Image;a.src="../res/images/terminalFontTypio16.png";let d=new Image;d.src="../res/images/terminalFontStartButton16.png";let p=new Image;p.src="../res/images/terminalFont16.png";let w,u,f,y,x,g,b="../res/images/terminalFont16.png";window.onload=(()=>{f=document.getElementById("canvas"),y=f.getContext("2d"),b.includes("8")?w=u=8:b.includes("16")?w=u=16:b.includes("32")&&(w=u=32),f.width=48*w,f.height=42*(u+u/4),x=new m(f.width,f.height),g=new I,f.addEventListener("click",t=>{x.click(t.offsetX,t.offsetY,y)}),window.addEventListener("keypress",t=>{x.canType&&(32==t.which&&t.target==document.body?(x.draw(y,t.which),t.preventDefault()):x.draw(y,t.which))}),window.addEventListener("keydown",t=>{let e=t.which;x.canType&&8==e&&x.backspace()})});class m{constructor(t,e){this.width=t,this.height=e,this.canType=!1,this.objects,this.posX,this.posY,this.init()}init(){this.objects=new i,this.posX=6*w,this.posY=6*u-u/4,this.objects.addButton(new k),this.draw(y,1e3)}draw(t,e){t.fillStyle="white",t.fillRect(0,0,this.width,this.height),t.fillStyle="cornflowerblue";for(let e=0;e<f.height/(u+u/4);e++)t.fillRect(0,e*(u+u/4)+3*u,f.width,2);t.fillStyle="gray",t.fillRect(0,0,this.width,2*u-u/4+2),t.drawImage(a,1*w,u/4),t.fillStyle="black",t.fillRect(1*w+2,1*u+6,6*w-2,2),1e3!=e&&(g.textIndex>=g.text.length-1?0==this.objects.letters[g.text.length-1].typed&&(this.posX+=w,this.posX==this.width-6*w&&(this.posX=6*w,this.posY+=u+u/4),g.text.charCodeAt(g.textIndex)==e?this.objects.letters[g.textIndex].typed=1:this.objects.letters[g.textIndex].typed=2,g.textIndex++,this.checkCorrectness()&&(this.canType=!1,this.objects.letters=[],this.objects.buttons[0].clickable=!0,this.posX=6*w,this.posY=6*u-u/4,g.textIndex=0)):(this.posX+=w,this.posX==this.width-6*w&&(this.posX=6*w,this.posY+=u+u/4),g.text.charCodeAt(g.textIndex)==e?this.objects.letters[g.textIndex].typed=1:this.objects.letters[g.textIndex].typed=2,g.textIndex++)),this.objects.draw(t),this.canType&&(t.fillStyle="black",t.fillRect(this.posX,this.posY-2,2,u+2))}drawCountDown(t,e){t.clearRect(0,0,f.width,f.height),3==e?t.drawImage(l,0,0):2==e?t.drawImage(o,0,0):1==e?t.drawImage(n,0,0):0==e&&t.drawImage(c,0,0)}checkCorrectness(){return this.objects.checkCorrectness()}startGame(){this.canType=!0,this.objects.letters=[],g.text=r,g.textIndex=0;for(let t of r){let e=t.charCodeAt(0)-h;this.objects.addLetter(new j(this.posX,this.posY,e)),this.posX+=w,this.posX==this.width-6*w&&(this.posX=6*w,this.posY+=u+u/4)}this.posX=6*w,this.posY=6*u-u/4,this.draw(y,1e3)}backspace(){g.textIndex&&(g.textIndex--,this.objects.letters[g.textIndex].typed=0,this.posX=this.objects.letters[g.textIndex].x,this.posY=this.objects.letters[g.textIndex].y),this.draw(y,1e3)}click(t,e){this.objects.click(t,e)}}class I{constructor(){this.text,this.textIndex}}class j{constructor(t,e,s){this.x=t,this.y=e,this.index=s,this.typed=0}draw(t){1==this.typed?(t.fillStyle="rgba(100, 149, 237, 1)",t.fillRect(this.x,this.y-2,w,u+2)):2==this.typed&&(t.fillStyle="rgba(205, 92, 92, 1)",t.fillRect(this.x,this.y-2,w,u+2)),t.drawImage(p,this.index*w,0,w,u,this.x,this.y,w,u),0==this.typed&&(t.fillStyle="rgba(255, 255, 255, .5)",t.fillRect(this.x,this.y,w,u))}}class k{constructor(){this.x=f.width-6*w-w/4-2,this.y=u/2-u/4-4,this.width=5*w+w/4,this.height=u+u/2,this.clickable=!0}draw(t){t.fillStyle="darkgray",t.fillRect(this.x,this.y,this.width,this.height),t.drawImage(d,this.x+w/8,this.y+u/4),this.clickable?(t.fillStyle="black",t.fillRect(this.x+this.width,this.y+2,2,this.height),t.fillRect(this.x+2,this.y+this.height,this.width-2,2)):(t.fillStyle="rgba(255, 255, 255, .75)",t.fillRect(this.x,this.y,this.width,this.height))}clicked(){this.clickable=!1,x.drawCountDown(y,3),setTimeout(()=>{x.drawCountDown(y,2)},1e3),setTimeout(()=>{x.drawCountDown(y,1)},2e3),setTimeout(()=>{x.drawCountDown(y,0)},3e3),setTimeout(()=>{x.startGame()},3500)}}}]);